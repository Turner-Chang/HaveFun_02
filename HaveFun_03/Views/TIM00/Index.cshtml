<input type="file" />

<button>上傳</button>

@section Scripts {
    <script>
        const input = document.querySelector('input[type="file"]');

        document.querySelector("button").addEventListener("click", () => {
            const file = input.files[0];
            const fileReader = new FileReader();

            fileReader.addEventListener("load", (event) => {
                const base64Str = event.target.result.split(",")[1];

                fetch("/fileUpload", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        file: base64Str
                    })
                })
                    .then(response => {
                        // Handle the response from the server
                        console.log(response);
                    })
                    .catch(error => {
                        // Handle any errors that occurred during the request
                        console.error(error);
                    });
            });

            fileReader.readAsDataURL(file);
        });
    </script>
}